# 🎯 积分系统使用说明

## 概述

现在项目支持**跨主题总得分**功能！用户可以依次完成多个主题，系统会累积计算总得分。

---

## 核心功能

### 1️⃣ **累积总分**
- 完成每个主题（Text/Images/Audio/Videos）可获得 0-10 分
- 系统自动累积所有主题的得分
- 最高总分：**40分**（4个主题 × 10题）

### 2️⃣ **进度追踪**
- 实时显示已完成主题数量（如：2/4）
- 显示当前总得分和剩余主题
- 已完成主题显示绿色标记 ✓

### 3️⃣ **总结页面**
- 查看所有主题的总得分
- 按主题分解显示每个主题的得分
- 根据总体表现评定等级：
  - 🏆 Master (≥90%)
  - ⭐ Advanced (≥75%)
  - 👍 Intermediate (≥50%)
  - 🌱 Beginner (<50%)

### 4️⃣ **重新挑战**
- 可以重新挑战任何已完成的主题
- 新分数会替换旧分数（不是累加）
- 总分自动更新

---

## 使用流程

```
1. 主页 → 选择分类页面
2. 选择一个主题（如：TEXT）
3. 回答10道题
4. 查看该主题结果
   ├─ [下一个主题] → 继续挑战
   ├─ [查看总结] → 查看当前总分
   └─ [返回首页] → 结束并重置
5. 完成所有4个主题后
   → 查看最终总结（满分40分）
```

---

## 页面说明

### 📂 分类选择页面 (`/category`)

**显示内容：**
- 4个主题选项（Text, Images, Audio, Videos）
- 已完成的主题显示得分和 ✓ 标记
- 进度条：已完成 X/4 主题
- 当前总得分：XX/YY

**按钮：**
- 未完成主题：`[Select]` - 蓝色
- 已完成主题：`[Retry]` - 黄色
- `[View Summary]` - 绿色（完成至少1个主题后显示）

---

### 📊 结果页面 (`/results`)

**显示内容：**
- 当前主题得分（X/10）
- 答题回顾（对/错标记）
- 进度信息（已完成 X/4）
- 剩余主题列表

**按钮：**
- 还有剩余主题时：
  - `[Next Category]` - 继续下一个主题
  - `[View Summary]` - 查看当前总结
  - `[Home]` - 返回首页（完全重置）

- 完成所有主题时：
  - `[View Final Summary]` - 查看最终总结
  - `[Home]` - 返回首页

---

### 📈 总结页面 (`/summary`)

**显示内容：**
- 总得分：XX/YY（百分比）
- 等级标识和表情
- 各主题分数条形图
- 完成进度

**按钮：**
- `[Continue Challenge]` - 继续未完成的主题
- `[Start Over]` - 从头开始（清空所有记录）

---

## 积分计算规则

### 单题积分
- ✅ 答对：+1分
- ❌ 答错：+0分

### 主题得分
- 每个主题：0-10分（10道题）
- 保存后不可在当前流程中修改（除非重新挑战）

### 总得分
- **新主题**：总分 += 新主题得分
- **重新挑战**：总分 = 总分 - 旧分数 + 新分数
- 满分：40分（4个主题 × 10题）

---

## 示例场景

### 场景 1：首次完整挑战

```
1. 完成 TEXT → 8/10
   总分：8/40 (20%)

2. 完成 IMAGES → 7/10
   总分：15/40 (37.5%)

3. 完成 AUDIO → 9/10
   总分：24/40 (60%)

4. 完成 VIDEOS → 8/10
   总分：32/40 (80%) → Advanced ⭐
```

### 场景 2：重新挑战提升分数

```
初始状态：
- TEXT: 8/10
- IMAGES: 7/10
- 总分：15/20 (75%)

重新挑战 TEXT → 10/10

更新后：
- TEXT: 10/10 ✓
- IMAGES: 7/10
- 总分：17/20 (85%) ↑
```

---

## 技术实现

### 状态管理
- 使用 **React Context** 全局管理游戏状态
- 保存所有已完成主题的详细记录
- 自动计算和更新总分

### 数据结构
```typescript
completedCategories: [
  {
    category: "text",
    score: 8,
    totalQuestions: 10,
    userAnswers: [...]
  },
  {
    category: "images",
    score: 7,
    totalQuestions: 10,
    userAnswers: [...]
  }
]
totalScore: 15
```

---

## 注意事项

⚠️ **重要提示：**

1. **"Home"按钮会重置所有数据**
   - 点击返回首页会清空所有已完成主题和总分
   - 如需保留进度，请使用"Next Category"或"View Summary"

2. **重新挑战会更新分数**
   - 旧分数会被新分数替换
   - 总分会相应调整

3. **中途查看总结**
   - 可以在任意时间点查看总结
   - 不影响继续挑战其他主题

---

## 快速开始

```bash
# 启动项目
npm run dev

# 访问
http://localhost:3000
```

### 推荐流程：
1. 从首页进入
2. 依次完成 4 个主题
3. 查看最终总结
4. （可选）重新挑战某个主题提升分数

---

**更新日期**：2025-10-29  
**版本**：v2.0

祝你挑战愉快！🎮

